{% load static tailwind_tags %}
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% tailwind_css %}
    <title>User Information | WasterRedux</title>
    <link
      rel="icon"
      type="resized_logo.png"
      href="{% static 'images/resized_logo.png' %}"
    />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
  </head>
  <body>
    <div class="flex h-screen overflow-hidden">
      <aside
        class="flex flex-col w-20 custom_lg:w-1/6 h-screen fixed top-0 left-0 overflow-y-auto bg-neutral-100"
      >
        <div
          class="flex flex-col grow px-3 py-6 custom_lg:px-4 mx-auto w-full text-md bg-white border-r border-solid border-zinc-300"
        >
          <header
            class="flex gap-3 text-2xl font-bold text-neutral-500 items-center custom_lg:justify-center justify-center"
          >
            <img
              loading="lazy"
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/b8ee72c842d258565731666e33bc76535290acfc1ed8770a8712ed85d7bd7022?apiKey=493880da1219496b8645af306c62489e&"
              class="shrink-0 mt-1 custom_lg:mt-auto w-6 aspect-[0.74]"
              alt=""
            />
            <h1 class="flex gap-1 mt-1.5 custom_lg:flex hidden">
              <span class="text-redux-green">Waste</span>
              <span class="text-redux-lightgreen">Redux</span>
            </h1>
          </header>

          <nav class="mt-16 custom_lg:mt-16">
            <div class="flex flex-col gap-3">
              <a
                href="{% url 'dashboard' %}"
                class="flex items-center justify-start px-5 py-3.5 custom_lg:py-3 w-full text-stone-900 whitespace-nowrap rounded-xl bg-white hover:bg-redux-lightgreen2 transition-colors duration-75 max-custom_lg:justify-center max-custom_lg:px-0 group"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="2 0 20 20"
                  fill="currentColor"
                  class="shrink-0 my-auto w-5 aspect-square transition-colors duration-75 group-hover:brightness-0 group-hover:invert"
                >
                  <path
                    d="M6.25 10.5C6.25 10.0858 5.91421 9.75 5.5 9.75C5.08579 9.75 4.75 10.0858 4.75 10.5H6.25ZM11.5 19.75C11.9142 19.75 12.25 19.4142 12.25 19C12.25 18.5858 11.9142 18.25 11.5 18.25V19.75ZM4.75 10.5C4.75 10.9142 5.08579 11.25 5.5 11.25C5.91421 11.25 6.25 10.9142 6.25 10.5H4.75ZM11.5 5.75C11.9142 5.75 12.25 5.41421 12.25 5C12.25 4.58579 11.9142 4.25 11.5 4.25V5.75ZM5.5 9.75C5.08579 9.75 4.75 10.0858 4.75 10.5C4.75 10.9142 5.08579 11.25 5.5 11.25V9.75ZM11.5 11.25C11.9142 11.25 12.25 10.9142 12.25 10.5C12.25 10.0858 11.9142 9.75 11.5 9.75V11.25ZM10.75 10.5C10.75 10.9142 11.0858 11.25 11.5 11.25C11.9142 11.25 12.25 10.9142 12.25 10.5H10.75ZM12.25 5C12.25 4.58579 11.9142 4.25 11.5 4.25C11.0858 4.25 10.75 4.58579 10.75 5H12.25ZM12.25 10.5C12.25 10.0858 11.9142 9.75 11.5 9.75C11.0858 9.75 10.75 10.0858 10.75 10.5H12.25ZM10.75 14C10.75 14.4142 11.0858 14.75 11.5 14.75C11.9142 14.75 12.25 14.4142 12.25 14H10.75ZM11.5 18.25C11.0858 18.25 10.75 18.5858 10.75 19C10.75 19.4142 11.0858 19.75 11.5 19.75V18.25ZM20.25 14C20.25 13.5858 19.9142 13.25 19.5 13.25C19.0858 13.25 18.75 13.5858 18.75 14H20.25ZM10.75 19C10.75 19.4142 11.0858 19.75 11.5 19.75C11.9142 19.75 12.25 19.4142 12.25 19H10.75ZM12.25 14C12.25 13.5858 11.9142 13.25 11.5 13.25C11.0858 13.25 10.75 13.5858 10.75 14H12.25ZM11.5 4.25C11.0858 4.25 10.75 4.58579 10.75 5C10.75 5.41421 11.0858 5.75 11.5 5.75V4.25ZM18.75 14C18.75 14.4142 19.0858 14.75 19.5 14.75C19.9142 14.75 20.25 14.4142 20.25 14H18.75ZM19.5 14.75C19.9142 14.75 20.25 14.4142 20.25 14C20.25 13.5858 19.9142 13.25 19.5 13.25V14.75ZM11.5 13.25C11.0858 13.25 10.75 13.5858 10.75 14C10.75 14.4142 11.0858 14.75 11.5 14.75V13.25ZM4.75 10.5L4.75 15H6.25L6.25 10.5H4.75ZM4.75 15C4.75 17.6234 6.87665 19.75 9.5 19.75V18.25C7.70507 18.25 6.25 16.7949 6.25 15H4.75ZM9.5 19.75H11.5V18.25H9.5V19.75ZM6.25 10.5V9H4.75V10.5H6.25ZM6.25 9C6.25 7.20507 7.70507 5.75 9.5 5.75V4.25C6.87665 4.25 4.75 6.37665 4.75 9H6.25ZM9.5 5.75H11.5V4.25H9.5V5.75ZM5.5 11.25H11.5V9.75H5.5V11.25ZM12.25 10.5V5H10.75V10.5H12.25ZM10.75 10.5V14H12.25V10.5H10.75ZM11.5 19.75H15.5V18.25H11.5V19.75ZM15.5 19.75C18.1234 19.75 20.25 17.6234 20.25 15H18.75C18.75 16.7949 17.2949 18.25 15.5 18.25V19.75ZM20.25 15V14H18.75V15H20.25ZM12.25 19V14H10.75V19H12.25ZM11.5 5.75H15.5L15.5 4.25H11.5V5.75ZM15.5 5.75C17.2949 5.75 18.75 7.20507 18.75 9L20.25 9C20.25 6.37665 18.1234 4.25 15.5 4.25L15.5 5.75ZM18.75 9V14H20.25V9L18.75 9ZM19.5 13.25H11.5V14.75H19.5V13.25Z"
                  ></path>
                </svg>
                <span
                  class="ml-5 transition-colors duration-75 group-hover:text-white max-custom_lg:hidden"
                >
                  Dashboard
                </span>
              </a>

              <a
                href="{% url 'profiles' %}"
                class="flex justify-start items-center px-5 py-3.5 custom_lg:py-3 w-full text-stone-900 whitespace-nowrap rounded-xl bg-white hover:bg-redux-lightgreen2 transition-colors duration-75 max-custom_lg:justify-center max-custom_lg:px-0 group"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="shrink-0 my-auto w-5 aspect-square transition-colors duration-75 group-hover:brightness-0 group-hover:invert"
                >
                  <path
                    d="M11.9999 17C15.6623 17 18.8649 18.5751 20.607 20.9247L18.765 21.796C17.3473 20.1157 14.8473 19 11.9999 19C9.15248 19 6.65252 20.1157 5.23479 21.796L3.39355 20.9238C5.13576 18.5747 8.33796 17 11.9999 17ZM11.9999 2C14.7613 2 16.9999 4.23858 16.9999 7V10C16.9999 12.6888 14.8776 14.8818 12.2168 14.9954L11.9999 15C9.23847 15 6.9999 12.7614 6.9999 10V7C6.9999 4.31125 9.1222 2.11818 11.783 2.00462L11.9999 2ZM11.9999 4C10.4022 4 9.09623 5.24892 9.00499 6.82373L8.9999 7V10C8.9999 11.6569 10.343 13 11.9999 13C13.5976 13 14.9036 11.7511 14.9948 10.1763L14.9999 10V7C14.9999 5.34315 13.6567 4 11.9999 4Z"
                  ></path>
                </svg>
                <span
                  class="ml-5 transition-colors duration-75 group-hover:text-white max-custom_lg:hidden"
                  >Profile</span
                >
              </a>
              <a
                href="{% url 'users' %}"
                class="flex justify-start items-center px-5 py-3.5 custom_lg:py-3 w-full text-white whitespace-nowrap rounded-xl bg-redux-lightgreen max-custom_lg:justify-center max-custom_lg:px-0 group"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="shrink-0 my-auto w-5 aspect-square transition-colors duration-75 group-hover:brightness-0 group-hover:invert"
                >
                  <path
                    d="M12 11C14.7614 11 17 13.2386 17 16V22H15V16C15 14.4023 13.7511 13.0963 12.1763 13.0051L12 13C10.4023 13 9.09634 14.2489 9.00509 15.8237L9 16V22H7V16C7 13.2386 9.23858 11 12 11ZM5.5 14C5.77885 14 6.05009 14.0326 6.3101 14.0942C6.14202 14.594 6.03873 15.122 6.00896 15.6693L6 16L6.0007 16.0856C5.88757 16.0456 5.76821 16.0187 5.64446 16.0069L5.5 16C4.7203 16 4.07955 16.5949 4.00687 17.3555L4 17.5V22H2V17.5C2 15.567 3.567 14 5.5 14ZM18.5 14C20.433 14 22 15.567 22 17.5V22H20V17.5C20 16.7203 19.4051 16.0796 18.6445 16.0069L18.5 16C18.3248 16 18.1566 16.03 18.0003 16.0852L18 16C18 15.3343 17.8916 14.694 17.6915 14.0956C17.9499 14.0326 18.2211 14 18.5 14ZM5.5 8C6.88071 8 8 9.11929 8 10.5C8 11.8807 6.88071 13 5.5 13C4.11929 13 3 11.8807 3 10.5C3 9.11929 4.11929 8 5.5 8ZM18.5 8C19.8807 8 21 9.11929 21 10.5C21 11.8807 19.8807 13 18.5 13C17.1193 13 16 11.8807 16 10.5C16 9.11929 17.1193 8 18.5 8ZM5.5 10C5.22386 10 5 10.2239 5 10.5C5 10.7761 5.22386 11 5.5 11C5.77614 11 6 10.7761 6 10.5C6 10.2239 5.77614 10 5.5 10ZM18.5 10C18.2239 10 18 10.2239 18 10.5C18 10.7761 18.2239 11 18.5 11C18.7761 11 19 10.7761 19 10.5C19 10.2239 18.7761 10 18.5 10ZM12 2C14.2091 2 16 3.79086 16 6C16 8.20914 14.2091 10 12 10C9.79086 10 8 8.20914 8 6C8 3.79086 9.79086 2 12 2ZM12 4C10.8954 4 10 4.89543 10 6C10 7.10457 10.8954 8 12 8C13.1046 8 14 7.10457 14 6C14 4.89543 13.1046 4 12 4Z"
                  ></path>
                </svg>
                <span class="ml-5 max-custom_lg:hidden">Users</span>
              </a>
              <a
                href="{% url 'filtering' %}"
                class="flex justify-start items-center px-5 py-3.5 custom_lg:py-3 w-full text-stone-900 whitespace-nowrap rounded-xl bg-white hover:bg-redux-lightgreen2 transition-colors duration-75 max-custom_lg:justify-center max-custom_lg:px-0 group"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="shrink-0 my-auto w-5 aspect-square transition-colors duration-75 group-hover:brightness-0 group-hover:invert"
                >
                  <path
                    d="M7 3V6H3V8H7V11H10V3H7ZM12 8H21V6H12V8ZM17 13V16H21V18H17V21H14V13H17ZM12 18H3V16H12V18Z"
                  ></path>
                </svg>
                <span
                  class="ml-5 transition-colors duration-75 group-hover:text-white max-custom_lg:hidden"
                  >Waste Filtering</span
                >
              </a>

              <a
                href="{% url 'filteredimages' %}"
                class="flex justify-start items-center px-5 py-3.5 custom_lg:py-3 w-full text-stone-900 whitespace-nowrap rounded-xl bg-white hover:bg-redux-lightgreen2 transition-colors duration-75 max-custom_lg:justify-center max-custom_lg:px-0 group"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="shrink-0 my-auto w-5 aspect-square transition-colors duration-75 group-hover:brightness-0 group-hover:invert"
                >
                  <path
                    d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM5 13.9289V19H8.1005L11.0858 16.0147L7 11.9289L5 13.9289ZM10.9289 19H19V16.9289L16 13.9289L10.9289 19ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"
                  ></path>
                </svg>
                <span
                  class="ml-5 transition-colors duration-75 group-hover:text-white max-custom_lg:hidden"
                  >Filtered Images</span
                >
              </a>
            </div>
          </nav>
          <a
            href="{% url 'logout' %}"
            class="flex justify-start items-center px-5 py-3.5 custom_lg:py-3 mt-60 w-full text-stone-900 whitespace-nowrap rounded-xl bg-white hover:bg-redux-lightgreen2 transition-colors duration-75 max-custom_lg:justify-center max-custom_lg:px-0 group"
          >
            <img
              loading="lazy"
              src="https://www.svgrepo.com/show/347125/logout-box.svg"
              class="shrink-0 my-auto w-5 aspect-square transition-colors duration-75 group-hover:brightness-0 group-hover:invert"
              alt=""
            />
            <span
              class="ml-5 transition-colors duration-75 group-hover:text-white max-custom_lg:hidden"
            >
              Log out
            </span>
          </a>
        </div>
      </aside>

      <main
        class="flex-1 ml-20 custom_lg:ml-[16.66%] h-screen overflow-y-auto p-0 bg-neutral-100 text-lg"
      >
        <nav
          class="sticky top-0 px-0 bg-neutral-100 w-full pt-[16px] pb-2 pl-5 text-3xl font-bold text-redux-green z-40"
        >
          <div class="flex items-center gap-2 py-3">
            <a
              href="{% url 'users' %}"
              class="flex items-center text-redux-green hover:text-redux-green hover:underline"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="w-6 h-6"
              >
                <path
                  d="M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"
                ></path>
              </svg>
            </a>
            <span>User Information</span>
          </div>
        </nav>

        <section class="flex flex-col w-full max-md:max-w-auto p-5 z-20">
          <article
            class="flex gap-5 px-8 py-9 mt-8 mb-4 w-full bg-white rounded-xl border border-solid border-zinc-300 max-md:flex-col max-md:px-5 max-md:max-w-full"
          >
            <div
              class="flex-shrink-0 w-[133px] h-[133px] flex items-start justify-start max-md:w-[133px] max-md:h-[133px] max-md:mt-0"
            >
              {% if profile_pic_url %}
              <img
                src="{{ profile_pic_url }}"
                alt="Profile Picture of {{ user.first_name }} {{ user.last_name }}"
                class="object-cover w-full h-full rounded-full"
              />
              {% else %}
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                class="object-contain w-full h-full"
              >
                <rect width="24" height="24" fill="white"></rect>
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9999 6C9.79077 6 7.99991 7.79086 7.99991 10C7.99991 12.2091 9.79077 14 11.9999 14C14.209 14 15.9999 12.2091 15.9999 10C15.9999 7.79086 14.209 6 11.9999 6ZM17.1115 15.9974C17.8693 16.4854 17.8323 17.5491 17.1422 18.1288C15.7517 19.2966 13.9581 20 12.0001 20C10.0551 20 8.27215 19.3059 6.88556 18.1518C6.18931 17.5723 6.15242 16.5032 6.91351 16.012C7.15044 15.8591 7.40846 15.7251 7.68849 15.6097C8.81516 15.1452 10.2542 15 12 15C13.7546 15 15.2018 15.1359 16.3314 15.5954C16.6136 15.7102 16.8734 15.8441 17.1115 15.9974Z"
                  fill="#81A969"
                ></path>
              </svg>
              {% endif %}
            </div>

            <div
              class="flex flex-col w-[30%] justify-center max-md:w-full pl-5"
            >
              <div class="flex flex-col">
                <div class="flex items-center gap-2">
                  <h5>{{ user.first_name }} {{ user.last_name }}</h5>
                  <!-- prettier-ignore -->
                  <div class="flex items-center ml-2">
                    <span
                      class="{% if user.isSuspended %} bg-red-500 {% elif user.isWarned %} bg-orange-500 {% else %} bg-green-500 {% endif %} w-2 h-2 rounded-full mr-1"
                    >
                    </span>
                    <span class="text-xs text-stone-400">
                      {% if user.isSuspended %}
                        Suspended
                      {% elif user.isWarned %}
                        Warned
                      {% else %}
                        Good
                      {% endif %}
                    </span>
                  </div>
                </div>

                <div class="flex gap-2 mt-0 text-stone-400">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="object-contain shrink-0 w-5 aspect-square"
                  >
                    <path
                      d="M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"
                    ></path>
                  </svg>
                  <p class="text-base">{{ user.email_address }}</p>
                </div>
                <div
                  class="flex justify-start items-start w-[30%] gap-2 mt-8 max-md:w-full"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="object-contain shrink-0 w-5 aspect-square"
                  >
                    <path
                      d="M12 0.585693L18 6.58569V9H22V19H23V21H1V19H2V9H6V6.58569L12 0.585693ZM18 19H20V11H18V19ZM6 11H4V19H6V11ZM8 7.41412V18.9999H11V12H13V18.9999H16V7.41412L12 3.41412L8 7.41412Z"
                    ></path>
                  </svg>
                  <p class="text-stone-900 text-lg leading-none">
                    {{ user.college_department }}
                  </p>
                </div>
              </div>
            </div>

            <div
              class="flex items-center justify-end mr-4 w-[25%] ml-auto max-md:w-full max-md:mt-5"
            >
              <button
                onclick="openOptionsModal()"
                class="py-3 px-12 text-sm font-medium text-white rounded-xl bg-redux-lightgreen max-md:w-full hover:bg-redux-green"
              >
                Options
              </button>
            </div>
          </article>

          <div
            class="flex gap-6 justify-start items-start mt-3 w-full max-md:flex-wrap custom_xl_1:justify-end max-md:max-w-full"
          >
            <div
              class="flex w-full custom_xl_1:w-[800px] gap-2 justify-end max-md:flex-wrap mb-5"
            >
              <!-- Category Dropdown -->
              <div class="relative inline-block w-[8rem] sm:w-[8rem]">
                <div
                  class="flex items-center justify-between px-4 py-2 bg-white border rounded-xl shadow-md cursor-pointer"
                  onclick="toggleDropdown('dropdownMenu_category')"
                >
                  <span id="categoryLabel" class="text-stone-900 text-sm"
                    >Category</span
                  >
                  <img
                    src="https://www.svgrepo.com/show/335062/dropdown.svg"
                    class="w-5 h-5 hover:bg-gray-200"
                    alt="Dropdown Icon"
                  />
                </div>
                <div
                  id="dropdownMenu_category"
                  class="absolute left-0 w-full mt-1 bg-white border rounded-lg shadow-md hidden z-50"
                >
                  <ul class="py-1 text-sm">
                    <li
                      onclick="filterTable('category', '', 'categoryLabel')"
                      class="px-4 py-2 hover:bg-gray-200 hover:text-gray-900 cursor-pointer transition duration-150"
                    >
                      All
                    </li>
                    <li
                      onclick="filterTable('category', 'Plastic', 'categoryLabel')"
                      class="px-4 py-2 hover:bg-gray-200 hover:text-gray-900 cursor-pointer transition duration-150"
                    >
                      Plastic
                    </li>
                    <li
                      onclick="filterTable('category', 'Metal', 'categoryLabel')"
                      class="px-4 py-2 hover:bg-gray-200 hover:text-gray-900 cursor-pointer transition duration-150"
                    >
                      Metal
                    </li>
                    <li
                      onclick="filterTable('category', 'Glass', 'categoryLabel')"
                      class="px-4 py-2 hover:bg-gray-200 hover:text-gray-900 cursor-pointer transition duration-150"
                    >
                      Glass
                    </li>
                  </ul>
                </div>
              </div>

              <!-- Action Dropdown -->
              <div class="relative inline-block w-[8rem] sm:w-[8rem]">
                <div
                  class="flex items-center justify-between px-4 py-2 bg-white border rounded-xl shadow-md cursor-pointer"
                  onclick="toggleDropdown('dropdownMenu_action')"
                >
                  <span id="actionLabel" class="text-stone-900 text-sm"
                    >Action</span
                  >
                  <img
                    src="https://www.svgrepo.com/show/335062/dropdown.svg"
                    class="w-5 h-5 hover:bg-gray-200"
                    alt="Dropdown Icon"
                  />
                </div>
                <div
                  id="dropdownMenu_action"
                  class="absolute left-0 w-full mt-1 bg-white border rounded-lg shadow-md hidden z-50"
                >
                  <ul class="py-1 text-sm">
                    <li
                      onclick="filterTable('action', '', 'actionLabel')"
                      class="px-4 py-2 hover:bg-gray-200 hover:text-gray-900 cursor-pointer transition duration-150"
                    >
                      All
                    </li>
                    <li
                      onclick="filterTable('action', 'Scanned', 'actionLabel')"
                      class="px-4 py-2 hover:bg-gray-200 hover:text-gray-900 cursor-pointer transition duration-150"
                    >
                      Scanned
                    </li>
                    <li
                      onclick="filterTable('action', 'Registered', 'actionLabel')"
                      class="px-4 py-2 hover:bg-gray-200 hover:text-gray-900 cursor-pointer transition duration-150"
                    >
                      Registered
                    </li>
                  </ul>
                </div>
              </div>

              <!-- Search Bar -->
              <div
                class="relative inline-block text-sm outline-none focus-within:outline-none ml-1"
              >
                <div
                  class="w-[250px] max-sm:w-[200px] flex items-center h-[40px] px-4 py-2 text-sm bg-white shadow-md rounded-[40px]"
                >
                  <img
                    loading="lazy"
                    src="https://www.svgrepo.com/show/532554/search-alt.svg"
                    class="shrink-0 w-4 aspect-square"
                    alt="Search Icon"
                  />
                  <input
                    type="search"
                    id="search"
                    placeholder="Search"
                    oninput="searchTable()"
                    class="flex-auto bg-transparent border-none focus:outline-none focus:ring-0 text-stone-700 font-normal"
                  />
                </div>
              </div>

              <!-- Export Button with Gap -->
              <button
                class="flex justify-end items-center gap-2 h-[40px] px-4 py-2 bg-redux-lightgreen text-sm text-white font-semibold rounded-xl shadow-md hover:bg-redux-lightgreen2 focus:outline-none ml-3"
                onclick="exportToPDFActivityLog()"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="w-4 h-4"
                >
                  <path
                    d="M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM13 9V16H11V9H6L12 3L18 9H13Z"
                  ></path>
                </svg>
                Export PDF
              </button>
            </div>
          </div>

          <h3
            class="px-14 py-3 text-[16px] w-[215px] font-bold bg-white border border-zinc-300 text-redux-green rounded-t-xl mt-4 custom_xl_1:mt-[-60px] z-10 relative"
          >
            Activity Log
          </h3>

          <div
            class="relative mt-[0.5px] w-full overflow-auto h-[calc(100vh-160px)]"
          >
            <table
              class="w-full text-md text-neutral-600 bg-white border-t border-solid border-zinc-300"
            >
              <thead class="sticky -top-1 bg-white z-40">
                <tr>
                  <th class="px-4 py-4 text-left w-[145px]">Image</th>
                  <th class="px-4 py-4 text-left w-[120px]">Category</th>
                  <th class="px-5 py-4 text-left w-[120px]">Action</th>
                  <th class="px-4 py-4 text-left w-[250px]">Location</th>
                  <th class="px-4 py-4 text-left w-[120px]">Date</th>
                </tr>
              </thead>
              <tbody id="activityTable">
                {% for activity in activities %} {% if not activity.isArchived%}
                <tr class="border-t border-b border-solid border-zinc-300">
                  <td class="px-4 py-5">
                    <img
                      src="{{ activity.image_url }}"
                      alt="{{ activity.waste_name }}"
                      class="w-[90px] h-[145px]"
                    />
                  </td>
                  <td class="px-4 py-5">{{ activity.category }}</td>
                  <td class="px-5 py-5">{{ activity.waste_action }}</td>
                  <td class="px-4 py-5">
                    {{ activity.location|default:"N/A" }}
                  </td>
                  <td class="px-4 py-5">{{ activity.activity_date }}</td>
                </tr>
                {% endif %} {% empty %}
                <tr>
                  <td colspan="5" class="text-center py-5">
                    No activities found.
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>

            <div
              class="flex justify-between items-center mt-4 text-sm text-stone-500"
            >
              <div class="flex items-center">
                <span>Show</span>

                <div class="relative ml-4">
                  <div
                    class="select-selected border px-3 py-1 rounded cursor-pointer bg-white flex items-center justify-between"
                  >
                    <span class="mr-6"></span>
                    <span class="dropdown-icon text-[9px]">▼</span>
                  </div>

                  <div
                    class="select-items absolute border bg-white w-full hidden z-10"
                  >
                    <div
                      data-value="5"
                      class="px-4 py-2 hover:bg-gray-200 cursor-pointer"
                    >
                      5
                    </div>
                    <div
                      data-value="10"
                      class="px-4 py-2 hover:bg-gray-200 cursor-pointer"
                    >
                      10
                    </div>
                    <div
                      data-value="20"
                      class="px-4 py-2 hover:bg-gray-200 cursor-pointer"
                    >
                      20
                    </div>
                    <div
                      data-value="50"
                      class="px-4 py-2 hover:bg-gray-200 cursor-pointer"
                    >
                      50
                    </div>
                  </div>
                </div>

                <span class="ml-4">entries</span>
              </div>

              <div id="paginationControls" class="flex gap-2">
                <button
                  onclick="previousPage()"
                  class="px-2 py-1 border rounded hover:bg-gray-200"
                >
                  Previous
                </button>
                <div id="pageNumbers" class="flex gap-2"></div>
                <button
                  onclick="nextPage()"
                  class="px-2 py-1 border rounded hover:bg-gray-200"
                >
                  Next
                </button>
              </div>
            </div>

            <div
              id="optionsModal"
              class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden z-50"
            >
              <div class="bg-white rounded-lg w-[90%] max-w-md p-6 shadow-lg">
                <input
                  type="hidden"
                  name="csrfmiddlewaretoken"
                  value="{{ csrf_token }}"
                />

                <input
                  type="hidden"
                  id="userEmail"
                  value="{{ user.email_address }}"
                />

                <h2 class="text-lg font-semibold text-center mb-6">
                  What would you like to do with this User?
                </h2>
                <div class="flex flex-col gap-3 mb-4">
                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      id="violationCheckbox"
                      class="form-checkbox text-orange-600"
                    />
                    <span class="ml-2 text-base">Give Violation Notice</span>
                  </label>
                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      id="suspendCheckbox"
                      class="form-checkbox text-redux-green"
                    />
                    <span class="ml-2 text-base">Suspend from Uploading</span>
                  </label>
                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      id="unSuspendCheckbox"
                      class="form-checkbox text-blue-600"
                    />
                    <span class="ml-2 text-base">Un-suspend</span>
                  </label>
                  <label class="flex items-center">
                    <input
                      type="checkbox"
                      id="deleteCheckbox"
                      class="form-checkbox text-red-600"
                    />
                    <span class="ml-2 text-base">Delete</span>
                  </label>
                </div>
                <div class="flex justify-end gap-2 text-base font-medium">
                  <button
                    onclick="closeModal()"
                    class="px-6 py-2 bg-gray-200 rounded-lg hover:bg-gray-300"
                  >
                    Cancel
                  </button>
                  <button
                    onclick="confirmAction()"
                    class="px-4 py-2 bg-redux-lightgreen text-white rounded-lg hover:bg-redux-green"
                  >
                    Confirm
                  </button>
                </div>
              </div>
            </div>

            <div
              id="confirmationPrompt"
              class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden z-50"
            >
              <div class="bg-white rounded-lg w-[90%] max-w-md p-6 shadow-lg">
                <p
                  id="confirmationMessage"
                  class="text-center text-lg mb-8"
                ></p>
                <div class="flex justify-center gap-2 text-base font-medium">
                  <button
                    onclick="closeConfirmationPrompt()"
                    class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300"
                  >
                    Cancel
                  </button>
                  <button
                    onclick="executeAction()"
                    class="px-8 py-2 bg-redux-lightgreen text-white rounded-lg hover:bg-redux-green"
                  >
                    Yes
                  </button>
                </div>
              </div>
            </div>
          </div>

          <script>
            let currentPage = 1;
            let rowsPerPage = 10;
            let totalRows = 0;

            function displayPage(page) {
              const rows = document.querySelectorAll("tbody tr");
              let visibleRowCount = 0;

              rows.forEach((row) => {
                const cells = row.getElementsByTagName("td");
                const categoryMatch = selectedCategory
                  ? cells[1]?.innerText === selectedCategory
                  : true;
                const actionMatch = selectedAction
                  ? cells[2]?.innerText === selectedAction
                  : true;
                const searchMatch = Array.from(cells).some((cell) =>
                  cell.innerText
                    .toLowerCase()
                    .includes(
                      document.getElementById("search").value.toLowerCase()
                    )
                );

                if (categoryMatch && actionMatch && searchMatch) {
                  visibleRowCount++;
                }
              });

              const totalPages = Math.ceil(visibleRowCount / rowsPerPage);

              if (page < 1) page = 1;
              if (page > totalPages) page = totalPages;

              const start = (page - 1) * rowsPerPage;
              const end = start + rowsPerPage;
              let count = 0;

              rows.forEach((row) => {
                const cells = row.getElementsByTagName("td");
                const categoryMatch = selectedCategory
                  ? cells[1]?.innerText === selectedCategory
                  : true;
                const actionMatch = selectedAction
                  ? cells[2]?.innerText === selectedAction
                  : true;
                const searchMatch = Array.from(cells).some((cell) =>
                  cell.innerText
                    .toLowerCase()
                    .includes(
                      document.getElementById("search").value.toLowerCase()
                    )
                );

                if (categoryMatch && actionMatch && searchMatch) {
                  row.style.display =
                    count >= start && count < end ? "" : "none";
                  count++;
                } else {
                  row.style.display = "none";
                }
              });

              updatePaginationControls(totalPages, page);
              currentPage = page;
            }

            function updatePaginationControls(totalPages, currentPage) {
              const pageNumbersContainer =
                document.getElementById("pageNumbers");
              pageNumbersContainer.innerHTML = "";

              for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement("button");
                pageButton.textContent = i;
                pageButton.classList.add("px-2", "py-1", "border", "rounded");

                if (i === currentPage) {
                  pageButton.classList.add("bg-gray-200", "font-bold");
                }

                pageButton.addEventListener("click", () => displayPage(i));
                pageNumbersContainer.appendChild(pageButton);
              }
            }

            function previousPage() {
              if (currentPage > 1) {
                displayPage(currentPage - 1);
              }
            }

            function nextPage() {
              const rows = document.querySelectorAll("tbody tr");
              let visibleRowCount = 0;

              rows.forEach((row) => {
                const cells = row.getElementsByTagName("td");
                const categoryMatch = selectedCategory
                  ? cells[1]?.innerText === selectedCategory
                  : true;
                const actionMatch = selectedAction
                  ? cells[2]?.innerText === selectedAction
                  : true;
                const searchMatch = Array.from(cells).some((cell) =>
                  cell.innerText
                    .toLowerCase()
                    .includes(
                      document.getElementById("search").value.toLowerCase()
                    )
                );

                if (categoryMatch && actionMatch && searchMatch) {
                  visibleRowCount++;
                }
              });

              const totalPages = Math.ceil(visibleRowCount / rowsPerPage);

              if (currentPage < totalPages) {
                displayPage(currentPage + 1);
              }
            }

            document.addEventListener("DOMContentLoaded", function () {
              const selected = document.querySelector(".select-selected");
              const items = document.querySelector(".select-items");
              const dropdownIcon = document.querySelector(".dropdown-icon");

              const storedRowsPerPage = localStorage.getItem("rowsPerPage");
              rowsPerPage = storedRowsPerPage
                ? parseInt(storedRowsPerPage, 10)
                : 10;
              selected.querySelector(".dropdown-icon").textContent = "▼";
              selected.childNodes[0].textContent = rowsPerPage;

              selected.addEventListener("click", function () {
                items.classList.toggle("hidden");

                const rect = selected.getBoundingClientRect();
                const spaceBelow = window.innerHeight - rect.bottom;
                const spaceAbove = rect.top;
                if (
                  spaceBelow < items.offsetHeight &&
                  spaceAbove > items.offsetHeight
                ) {
                  items.style.top = "auto";
                  items.style.bottom = "100%";
                } else {
                  items.style.top = "100%";
                  items.style.bottom = "auto";
                }

                dropdownIcon.textContent = items.classList.contains("hidden")
                  ? "▼"
                  : "▲";
              });

              const options = items.querySelectorAll("div");
              options.forEach((option) => {
                option.addEventListener("click", function () {
                  selected.childNodes[0].textContent = this.textContent;
                  rowsPerPage = parseInt(this.dataset.value, 10);
                  localStorage.setItem("rowsPerPage", rowsPerPage);
                  displayPage(1);
                  items.classList.add("hidden");
                  dropdownIcon.textContent = "▼";
                });
              });

              document.addEventListener("click", function (event) {
                if (
                  !selected.contains(event.target) &&
                  !items.contains(event.target)
                ) {
                  items.classList.add("hidden");
                  dropdownIcon.textContent = "▼";
                }
              });

              displayPage(1);
            });
          </script>

          <script>
            let selectedCategory = "";
            let selectedAction = "";

            function toggleDropdown(dropdownId) {
              const dropdown = document.getElementById(dropdownId);
              dropdown.classList.toggle("hidden");

              document.querySelectorAll(".dropdown-menu").forEach((menu) => {
                if (menu.id !== dropdownId) {
                  menu.classList.add("hidden");
                }
              });
            }

            document.addEventListener("click", function (event) {
              document
                .querySelectorAll(".dropdown-menu")
                .forEach((dropdown) => {
                  if (!dropdown.parentElement.contains(event.target)) {
                    dropdown.classList.add("hidden");
                  }
                });
            });

            function filterTable(type, value, labelId) {
              if (type === "category") selectedCategory = value;
              else if (type === "action") selectedAction = value;

              document.getElementById(labelId).textContent =
                value || type.charAt(0).toUpperCase() + type.slice(1);

              document
                .getElementById("dropdownMenu_" + type)
                .classList.add("hidden");

              searchTable();
              displayPage(1);
            }

            function searchTable() {
              const searchInput = document
                .getElementById("search")
                .value.toLowerCase();
              const rows = document
                .getElementById("activityTable")
                .getElementsByTagName("tr");
              Array.from(rows).forEach((row) => {
                const cells = row.getElementsByTagName("td");
                const categoryMatch = selectedCategory
                  ? cells[1]?.innerText === selectedCategory
                  : true;
                const actionMatch = selectedAction
                  ? cells[2]?.innerText === selectedAction
                  : true;
                const searchMatch = Array.from(cells).some((cell) =>
                  cell.innerText.toLowerCase().includes(searchInput)
                );
                row.style.display =
                  categoryMatch && actionMatch && searchMatch ? "" : "none";
              });

              displayPage(1);
            }
          </script>
        </section>

        <script>
          let modalSelectedAction = "";

          function resetCheckboxes() {
            document.getElementById("suspendCheckbox").checked = false;
            document.getElementById("unSuspendCheckbox").checked = false;
            document.getElementById("deleteCheckbox").checked = false;
            document.getElementById("violationCheckbox").checked = false;
          }

          function openOptionsModal() {
            document.getElementById("optionsModal").classList.remove("hidden");
          }

          function closeModal() {
            document.getElementById("optionsModal").classList.add("hidden");
            resetCheckboxes();
          }

          function confirmAction() {
            console.log("Confirm button clicked");
            const suspend = document.getElementById("suspendCheckbox").checked;
            const unSuspend =
              document.getElementById("unSuspendCheckbox").checked;
            const deleteUser =
              document.getElementById("deleteCheckbox").checked;
            const violationNotice =
              document.getElementById("violationCheckbox").checked;

            if (suspend && !unSuspend && !deleteUser && !violationNotice) {
              document.getElementById("confirmationMessage").textContent =
                "Are you sure you want to suspend this user?";
            } else if (
              unSuspend &&
              !suspend &&
              !deleteUser &&
              !violationNotice
            ) {
              document.getElementById("confirmationMessage").textContent =
                "Are you sure you want to un-suspend this user?";
            } else if (
              deleteUser &&
              !suspend &&
              !unSuspend &&
              !violationNotice
            ) {
              document.getElementById("confirmationMessage").textContent =
                "Are you sure you want to delete this user?";
            } else if (
              violationNotice &&
              !suspend &&
              !unSuspend &&
              !deleteUser
            ) {
              document.getElementById("confirmationMessage").textContent =
                "Are you sure you want to give this user a violation notice?";
            } else {
              alert("Please select only one action at a time.");
              return;
            }

            document.getElementById("optionsModal").classList.add("hidden");
            document
              .getElementById("confirmationPrompt")
              .classList.remove("hidden");
          }

          function closeConfirmationPrompt() {
            document
              .getElementById("confirmationPrompt")
              .classList.add("hidden");
            resetCheckboxes();
          }

          function executeAction() {
            console.log("Yes button clicked");
            const suspend = document.getElementById("suspendCheckbox").checked;
            const unSuspend =
              document.getElementById("unSuspendCheckbox").checked;
            const deleteUser =
              document.getElementById("deleteCheckbox").checked;
            const violationNotice =
              document.getElementById("violationCheckbox").checked;
            const userEmail = document.getElementById("userEmail").value;

            if (suspend) {
              updateUserStatus(true, false, userEmail, function () {
                alert("User suspended successfully.");
                location.reload();
              });
            } else if (unSuspend) {
              updateUserStatus(false, false, userEmail, function () {
                alert("User unsuspended successfully.");
                location.reload();
              });
            } else if (deleteUser) {
              updateUserStatus(false, true, userEmail, function () {
                alert("User deleted successfully.");
                window.location.href = "{% url 'users' %}";
              });
            } else if (violationNotice) {
              setViolationNotice(userEmail);
            }

            closeConfirmationPrompt();
          }

          function setViolationNotice(userEmail) {
            console.log("Setting violation notice for:", userEmail);
            fetch(`/set_violation_notice/${userEmail}/`, {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
                "X-CSRFToken": getCsrfToken(),
              },
              body: JSON.stringify({ isWarned: true }),
            })
              .then((response) => response.json())
              .then((data) => {
                if (data.success) {
                  alert("Violation notice issued successfully.");
                  location.reload();
                } else {
                  alert("Failed to issue violation notice.");
                }
              })
              .catch((error) => {
                console.error("Error issuing violation notice:", error);
                alert("Error occurred while issuing violation notice.");
              });
          }

          function getCsrfToken() {
            return document.querySelector("[name=csrfmiddlewaretoken]").value;
          }

          function updateUserStatus(
            isSuspended,
            isArchived,
            userEmail,
            callback
          ) {
            const isWarned = isSuspended ? undefined : false;

            fetch(`/update_user_status/${userEmail}/`, {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
                "X-CSRFToken": getCsrfToken(),
              },
              body: JSON.stringify({ isSuspended, isArchived, isWarned }),
            })
              .then((response) => response.json())
              .then((data) => {
                if (data.success) {
                  if (callback) callback();
                } else {
                  alert("Failed to update user status.");
                }
              })
              .catch((error) => {
                console.error("Error updating user status:", error);
                alert("Error occurred while updating user status.");
              });
          }
        </script>

        <script>
          async function exportToPDFActivityLog() {
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF("p", "mm", "a4");
            const margin = 12.7;
            const contentWidth = 210 - margin * 2;
            const dateGenerated = formatDateTime(new Date());
            const dateOnly = formatDateOnly(new Date());

            const headers = ["Image", "Category", "Action", "Location", "Date"];
            const rows = [];
            const imageDataArray = [];

            const activeCategory = selectedCategory || null;
            const activeAction = selectedAction || null;

            async function getImageDataUrl(imgUrl) {
              const img = new Image();
              img.crossOrigin = "Anonymous";
              img.src = imgUrl;
              await img.decode();
              const canvas = document.createElement("canvas");
              canvas.width = img.width;
              canvas.height = img.height;
              const ctx = canvas.getContext("2d");
              ctx.drawImage(img, 0, 0);
              return canvas.toDataURL("image/png");
            }

            for (const row of document.querySelectorAll("#activityTable tr")) {
              const category = row
                .querySelector("td:nth-child(2)")
                .innerText.trim();
              const action = row
                .querySelector("td:nth-child(3)")
                .innerText.trim();

              if (
                (activeCategory && category !== activeCategory) ||
                (activeAction && action !== activeAction)
              ) {
                continue;
              }

              const imgSrc = row.querySelector("td img").src;
              const location = row
                .querySelector("td:nth-child(4)")
                .innerText.trim();
              const date = row
                .querySelector("td:nth-child(5)")
                .innerText.trim();

              const imgData = await getImageDataUrl(imgSrc);
              imageDataArray.push(imgData);
              rows.push(["", category, action, location, date]);
            }

            const logoPath = "{% static 'images/resized_logo.png' %}";

            pdf.addImage(logoPath, "PNG", margin, margin, 9, 9);
            pdf.setFontSize(14);
            pdf.setFont("helvetica", "bold");
            pdf.setTextColor(65, 100, 74);
            pdf.text("Waste", margin + 10, margin + 8);
            pdf.setTextColor(129, 169, 105);
            pdf.text("Redux", margin + 26, margin + 8);

            pdf.setDrawColor(128, 128, 128);
            pdf.setLineWidth(0.5);
            pdf.line(margin, margin + 12, margin + contentWidth, margin + 12);

            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(11);
            pdf.setFont("helvetica", "bold");
            pdf.text(
              "Activity Log Report",
              margin + contentWidth / 2,
              margin + 22,
              { align: "center" }
            );
            pdf.setFontSize(8);
            pdf.setFont("helvetica", "normal");
            pdf.text(
              `As of ${dateOnly}`,
              margin + contentWidth / 2,
              margin + 27,
              { align: "center" }
            );

            const userInfoStartY = 42;
            const rightColumnX = margin + contentWidth / 2 + 50;

            pdf.setFontSize(9);
            pdf.setFont("helvetica", "bold");
            pdf.text(`Name: `, margin, userInfoStartY + 12);
            pdf.setFont("helvetica", "normal");
            pdf.text(
              "{{ user.first_name }} {{ user.last_name }}",
              margin + 20,
              userInfoStartY + 12
            );

            pdf.setFont("helvetica", "bold");
            pdf.text(`Email: `, margin, userInfoStartY + 17);
            pdf.setFont("helvetica", "normal");
            pdf.text(
              "{{ user.email_address }}",
              margin + 20,
              userInfoStartY + 17
            );

            pdf.setFont("helvetica", "bold");
            pdf.text(`College: `, rightColumnX, userInfoStartY + 12);
            pdf.setFont("helvetica", "normal");
            pdf.text(
              "{{ user.college_department }}",
              rightColumnX + 20,
              userInfoStartY + 12
            );

            pdf.setFont("helvetica", "bold");
            pdf.text(`Status: `, rightColumnX, userInfoStartY + 17);
            pdf.setFont("helvetica", "normal");
            pdf.text(
              "{% if user.isSuspended %} Suspended {% elif user.isWarned %} Warned {% else %} Good {% endif %}",
              rightColumnX + 19,
              userInfoStartY + 17
            );

            pdf.autoTable({
              startY: userInfoStartY + 25,
              head: [headers],
              body: rows,
              theme: "grid",
              headStyles: { fillColor: [129, 169, 105], cellPadding: 4 },
              margin: { left: margin, right: margin, bottom: 30 },
              tableWidth: contentWidth,
              pageBreak: "auto",
              styles: { overflow: "linebreak", cellPadding: 2 },
              bodyStyles: { valign: "middle", minCellHeight: 20 },
              didDrawPage: (data) => {
                const pageHeight = pdf.internal.pageSize.height;
                const footerY = pageHeight - 15;
                pdf.setFontSize(8);
                pdf.setFont("helvetica", "normal");
                pdf.text("Generated by: Admin", margin, footerY);
                pdf.text(
                  `Date Generated: ${dateGenerated}`,
                  margin,
                  footerY + 5
                );
              },
              didDrawCell: (data) => {
                if (
                  data.row.section === "body" &&
                  data.column.index === 0 &&
                  data.row.index < imageDataArray.length
                ) {
                  const imgData = imageDataArray[data.row.index];
                  const imgWidth = 15;
                  const imgHeight = 15;
                  const xOffset =
                    data.cell.x + (data.cell.width - imgWidth) / 2;
                  const yOffset =
                    data.cell.y + (data.cell.height - imgHeight) / 2;

                  pdf.addImage(
                    imgData,
                    "PNG",
                    xOffset,
                    yOffset,
                    imgWidth,
                    imgHeight
                  );
                }
              },
            });

            const pageCount = pdf.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
              pdf.setPage(i);
              const footerY = pdf.internal.pageSize.height - 15;
              pdf.text(
                `Page ${i} of ${pageCount}`,
                pdf.internal.pageSize.width - margin,
                footerY,
                { align: "right" }
              );
            }

            pdf.save(
              `FilteredActivityLog_${new Date().toISOString().slice(0, 10)}.pdf`
            );
          }

          function formatDateTime(date) {
            const options = {
              year: "numeric",
              month: "long",
              day: "numeric",
              hour: "2-digit",
              minute: "2-digit",
              second: "2-digit",
            };
            return date.toLocaleString("en-US", options);
          }

          function formatDateOnly(date) {
            const options = {
              year: "numeric",
              month: "long",
              day: "numeric",
            };
            return date.toLocaleDateString("en-US", options);
          }
        </script>
      </main>
    </div>
  </body>
</html>
